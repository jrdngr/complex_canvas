!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1),i=n(2),o=r.PlotBounds.fromBounds(-10,10,-10,10),s=500,a=t=>t.exponent(2);function u(){const t=new r.DrawPlot(o,s,s);document.body.appendChild(t.canvas);const e=function(t,e,n=100){const o=a(i.Complex.fromRectangular(e.xMin,e.yMin)),s=a(i.Complex.fromRectangular(e.xMax,e.yMax));let u=o.re,c=s.re,h=o.im,l=s.im;const g=e.xRange/n,d=e.yRange/n;for(let t=e.xMin;t<e.xMax;t+=g)for(let n=e.yMin;n<e.yMax;n+=d){const e=a(i.Complex.fromRectangular(t,n));u=Math.min(e.re,u),c=Math.max(e.re,c),h=Math.min(e.im,h),l=Math.max(e.im,l)}return r.PlotBounds.fromBounds(u,c,h,l)}(0,o),n=new r.ShaderPlot(e,s,s);document.body.appendChild(n.canvas),t.subscribe(n)}e.main=u,u()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t,e,n,r){this.xMin=t,this.xMax=e,this.yMin=n,this.yMax=r,this.xRange=e-t,this.yRange=r-n}static fromBounds(t,e,n,i){return new r(t,e,n,i)}static fromZero(t,e){return new r(0,t,0,e)}static symmetric(t,e){return new r(-t,t,-e,e)}transform(t){return t(this)}}e.PlotBounds=r;e.DrawPlot=class{constructor(t,e,n){this.isMouseDown=!1,this.updateSubscriptions=[],this.bounds=t,this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=n,this.context=this.canvas.getContext("2d");const r=this;this.canvas.addEventListener("mousedown",function(t){r.onMouseDown(t.pageX,t.pageY)}),this.canvas.addEventListener("mouseup",function(t){r.onMouseUp(t.pageX,t.pageY)}),this.canvas.addEventListener("mousemove",function(t){r.onMouseMove(t.pageX,t.pageY)}),this.canvas.addEventListener("mouseleave",function(t){r.onMouseUp(t.pageX,t.pageY)})}subscribe(t){this.updateSubscriptions.push(t)}onMouseDown(t,e){this.isMouseDown=!0,this.context.beginPath(),this.context.moveTo(t,e)}onMouseUp(t,e){this.onMouseMove(t,e),this.context.closePath(),this.isMouseDown=!1}onMouseMove(t,e){this.isMouseDown&&(this.context.lineTo(t,e),this.context.stroke(),this.updateSubscriptions.forEach(t=>{t.update(this.canvas)}))}};e.ShaderPlot=class{constructor(t,e,n){this.bounds=t,this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=n,this.gl=this.canvas.getContext("webgl",{antialias:!1,preserveDrawingBuffer:!0}),this.configureGl()}configureGl(){const t=this.createShader(i,this.gl.VERTEX_SHADER),e=this.createShader(o,this.gl.FRAGMENT_SHADER),n=this.gl.createProgram();this.gl.attachShader(n,t),this.gl.attachShader(n,e),this.gl.linkProgram(n),this.gl.useProgram(n);const r=this.gl.getUniformLocation(n,"u_color"),s=this.gl.getAttribLocation(n,"a_position"),a=this.gl.getUniformLocation(n,"u_resolution");this.gl.uniform2f(a,this.canvas.width,this.canvas.height);const u=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,u),this.gl.enableVertexAttribArray(s),this.gl.vertexAttribPointer(s,2,this.gl.FLOAT,!1,0,0),this.gl.uniform4f(r,0,0,0,1),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT)}createShader(t,e){const n=this.gl.createShader(e);return this.gl.shaderSource(n,t),this.gl.compileShader(n),n}update(t){let e=this.gl.createTexture();this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t);var n=this.gl.createFramebuffer();this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,n),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,e,0)}};const i="\nattribute vec2 a_position;\nuniform vec2 u_resolution;\n\nvoid main() {\n    gl_Position = vec4(a_position, 0, 1);\n}",o="\nprecision mediump float;\nuniform vec4 u_color;\n\nvoid main() {\n  gl_FragColor = u_color;\n}"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t,e){this.re=t,this.im=e,this.r=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),this.theta=Math.atan2(e,t)}static zero(){return r.fromRectangular(0,0)}static unit(){return r.fromRectangular(1,0)}static fromRectangular(t,e){return new r(t,e)}static fromPolar(t,e){const n=t*Math.cos(e),i=t*Math.sin(e);return new r(n,i)}static fromComplex(t){return r.fromRectangular(t.re,t.im)}static add(t,e){return r.fromRectangular(t.re+e.re,t.im+e.im)}static subtract(t,e){return r.fromRectangular(t.re-e.re,t.im-e.im)}static multiply(t,e){return r.fromPolar(t.r*e.r,t.theta-e.theta)}static divide(t,e){return r.fromPolar(t.r/e.r,t.theta-e.theta)}static exponent(t,e){const n=Math.pow(t.r,e),i=n*Math.cos(e*t.theta),o=n*Math.sin(e*t.theta);return r.fromRectangular(i,o)}static root(t,e){return r.exponent(t,1/e)}clone(){return r.fromComplex(this)}add(t){return r.add(this,t)}subtract(t){return r.subtract(this,t)}multiply(t){return r.multiply(this,t)}divide(t){return r.divide(this,t)}exponent(t){return r.exponent(this,t)}root(t){return r.root(this,t)}toString(){return`${this.re} + ${this.im}i`}}e.Complex=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Bsb3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBsZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJwbG90XzEiLCJjb21wbGV4XzEiLCJib3VuZHMiLCJQbG90Qm91bmRzIiwiZnJvbUJvdW5kcyIsImNhbnZhc1NpemUiLCJmIiwiZXhwb25lbnQiLCJtYWluIiwiZHJhd1Bsb3QiLCJEcmF3UGxvdCIsImRvY3VtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2FudmFzIiwiY29tcGxleEJvdW5kcyIsImNvbXBsZXhGdW5jdGlvbiIsInBvaW50c1RvU2FtcGxlIiwibWluSW1hZ2UiLCJDb21wbGV4IiwiZnJvbVJlY3Rhbmd1bGFyIiwieE1pbiIsInlNaW4iLCJtYXhJbWFnZSIsInhNYXgiLCJ5TWF4IiwicmUiLCJpbSIsInhTdGVwIiwieFJhbmdlIiwieVN0ZXAiLCJ5UmFuZ2UiLCJ4IiwieSIsImltYWdlIiwiTWF0aCIsIm1pbiIsIm1heCIsImNhbGN1bGF0ZUNvbXBsZXhCb3VuZHMiLCJjb21wbGV4UGxvdCIsIlNoYWRlclBsb3QiLCJzdWJzY3JpYmUiLCJbb2JqZWN0IE9iamVjdF0iLCJ0aGlzIiwidHJhbnNmb3JtRnVuY3Rpb24iLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsImlzTW91c2VEb3duIiwidXBkYXRlU3Vic2NyaXB0aW9ucyIsImNyZWF0ZUVsZW1lbnQiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRleHQiLCJnZXRDb250ZXh0Iiwic2VsZiIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsIm9uTW91c2VEb3duIiwicGFnZVgiLCJwYWdlWSIsIm9uTW91c2VVcCIsIm9uTW91c2VNb3ZlIiwidXBkYXRlciIsInB1c2giLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJjbG9zZVBhdGgiLCJsaW5lVG8iLCJzdHJva2UiLCJmb3JFYWNoIiwic3ViIiwidXBkYXRlIiwiZ2wiLCJhbnRpYWxpYXMiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJjb25maWd1cmVHbCIsInZlcnRleFNoYWRlciIsImNyZWF0ZVNoYWRlciIsInZlcnRleFNoYWRlclRleHQiLCJWRVJURVhfU0hBREVSIiwiZnJhZ21lbnRTaGFkZXIiLCJmcmFnbWVudFNoYWRlclRleHQiLCJGUkFHTUVOVF9TSEFERVIiLCJwcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwidXNlUHJvZ3JhbSIsImNvbG9yTG9jYXRpb24iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJwb3NpdGlvbkxvY2F0aW9uIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJyZXNvbHV0aW9uTG9jYXRpb24iLCJ1bmlmb3JtMmYiLCJidWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJ1bmlmb3JtNGYiLCJjbGVhckNvbG9yIiwiY2xlYXIiLCJDT0xPUl9CVUZGRVJfQklUIiwic2hhZGVyVGV4dCIsInNoYWRlclR5cGUiLCJzaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwidGV4dHVyZSIsImNyZWF0ZVRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJmYiIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiYmluZEZyYW1lYnVmZmVyIiwiRlJBTUVCVUZGRVIiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsIkNPTE9SX0FUVEFDSE1FTlQwIiwicmVhbCIsImltYWdpbmFyeSIsInNxcnQiLCJwb3ciLCJ0aGV0YSIsImF0YW4yIiwibWFnbml0dWRlIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJjMSIsImMyIiwiZnJvbVBvbGFyIiwiZXhwIiwibXVsdGlwbGllciIsInJvb3QiLCJmcm9tQ29tcGxleCIsImFkZCIsInN1YnRyYWN0IiwibXVsdGlwbHkiLCJkaXZpZGUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxL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MkYsRUFBYUMsR0FDdkIsT0FBT25ILEVBQVFvSCxVQUFVRixFQUFHdkosRUFBSXdKLEVBQUd4SixFQUFHdUosRUFBR04sTUFBUU8sRUFBR1AsT0FHeERyRixnQkFBZ0JyRSxFQUFZbUssR0FDeEIsTUFBTUMsRUFBYXRHLEtBQUEyRixJQUFBekosRUFBRVMsRUFBSzBKLEdBQ3BCOUcsRUFBSytHLEVBQWF0RyxLQUFLZ0csSUFBSUssRUFBTW5LLEVBQUUwSixPQUNuQ3BHLEVBQUs4RyxFQUFhdEcsS0FBS2lHLElBQUlJLEVBQU1uSyxFQUFFMEosT0FDekMsT0FBTzVHLEVBQVFDLGdCQUFnQk0sRUFBSUMsR0FHdkNlLFlBQVlyRSxFQUFZcUssR0FDcEIsT0FBT3ZILEVBQVFaLFNBQVNsQyxFQUFHLEVBQUVxSyxHQUcxQmhHLFFBQ0gsT0FBT3ZCLEVBQVF3SCxZQUFZaEcsTUFHeEJELElBQUlyRSxHQUNQLE9BQU84QyxFQUFReUgsSUFBSWpHLEtBQU10RSxHQUd0QnFFLFNBQVNyRSxHQUNaLE9BQU84QyxFQUFRMEgsU0FBU2xHLEtBQU10RSxHQUczQnFFLFNBQVNyRSxHQUNaLE9BQU84QyxFQUFRMkgsU0FBU25HLEtBQU10RSxHQUczQnFFLE9BQU9yRSxHQUNWLE9BQU84QyxFQUFRNEgsT0FBT3BHLEtBQU10RSxHQUd6QnFFLFNBQVM4RixHQUNaLE9BQU9ySCxFQUFRWixTQUFTb0MsS0FBTTZGLEdBRzNCOUYsS0FBS2dHLEdBQ1IsT0FBT3ZILEVBQVF1SCxLQUFLL0YsS0FBTStGLEdBR3ZCaEcsV0FDSCxTQUFVQyxLQUFLakIsUUFBUWlCLEtBQUtoQixPQTNGcEM3RCxFQUFBcUQiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCB7IERyYXdQbG90LCBTaGFkZXJQbG90LCBQbG90Qm91bmRzIH0gZnJvbSBcIi4vcGxvdFwiO1xuaW1wb3J0IHsgQ29tcGxleCwgQ29tcGxleEZ1bmN0aW9uIH0gZnJvbSBcIi4vY29tcGxleFwiO1xuXG5jb25zdCBib3VuZHMgPSBQbG90Qm91bmRzLmZyb21Cb3VuZHMoLTEwLCAxMCwgLTEwLCAxMCk7XG5jb25zdCBjYW52YXNTaXplID0gNTAwO1xuXG5jb25zdCBmOiBDb21wbGV4RnVuY3Rpb24gPSBjID0+IGMuZXhwb25lbnQoMik7XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWluKCkge1xuICAgIGNvbnN0IGRyYXdQbG90ID0gbmV3IERyYXdQbG90KGJvdW5kcywgY2FudmFzU2l6ZSwgY2FudmFzU2l6ZSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkcmF3UGxvdC5jYW52YXMpO1xuXG4gICAgY29uc3QgY29tcGxleEJvdW5kcyA9IGNhbGN1bGF0ZUNvbXBsZXhCb3VuZHMoZiwgYm91bmRzKTtcblxuICAgIGNvbnN0IGNvbXBsZXhQbG90ID0gbmV3IFNoYWRlclBsb3QoY29tcGxleEJvdW5kcywgY2FudmFzU2l6ZSwgY2FudmFzU2l6ZSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb21wbGV4UGxvdC5jYW52YXMpO1xuXG4gICAgZHJhd1Bsb3Quc3Vic2NyaWJlKGNvbXBsZXhQbG90KTtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlQ29tcGxleEJvdW5kcyhjb21wbGV4RnVuY3Rpb246IENvbXBsZXhGdW5jdGlvbiwgYm91bmRzOiBQbG90Qm91bmRzLCBwb2ludHNUb1NhbXBsZTogbnVtYmVyID0gMTAwKTogUGxvdEJvdW5kcyB7XG4gICAgY29uc3QgbWluSW1hZ2UgPSBmKENvbXBsZXguZnJvbVJlY3Rhbmd1bGFyKGJvdW5kcy54TWluLCBib3VuZHMueU1pbikpO1xuICAgIGNvbnN0IG1heEltYWdlID0gZihDb21wbGV4LmZyb21SZWN0YW5ndWxhcihib3VuZHMueE1heCwgYm91bmRzLnlNYXgpKTtcblxuICAgIGxldCB4TWluID0gbWluSW1hZ2UucmU7XG4gICAgbGV0IHhNYXggPSBtYXhJbWFnZS5yZTtcbiAgICBsZXQgeU1pbiA9IG1pbkltYWdlLmltO1xuICAgIGxldCB5TWF4ID0gbWF4SW1hZ2UuaW07XG5cbiAgICBjb25zdCB4U3RlcCA9IGJvdW5kcy54UmFuZ2UgLyBwb2ludHNUb1NhbXBsZTtcbiAgICBjb25zdCB5U3RlcCA9IGJvdW5kcy55UmFuZ2UgLyBwb2ludHNUb1NhbXBsZTtcblxuICAgIGZvciAobGV0IHggPSBib3VuZHMueE1pbjsgeCA8IGJvdW5kcy54TWF4OyB4ICs9IHhTdGVwKSB7XG4gICAgICAgIGZvciAobGV0IHkgPSBib3VuZHMueU1pbjsgeSA8IGJvdW5kcy55TWF4OyB5ICs9IHlTdGVwKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IGYoQ29tcGxleC5mcm9tUmVjdGFuZ3VsYXIoeCwgeSkpO1xuICAgICAgICAgICAgeE1pbiA9IE1hdGgubWluKGltYWdlLnJlLCB4TWluKTtcbiAgICAgICAgICAgIHhNYXggPSBNYXRoLm1heChpbWFnZS5yZSwgeE1heCk7XG4gICAgICAgICAgICB5TWluID0gTWF0aC5taW4oaW1hZ2UuaW0sIHlNaW4pO1xuICAgICAgICAgICAgeU1heCA9IE1hdGgubWF4KGltYWdlLmltLCB5TWF4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQbG90Qm91bmRzLmZyb21Cb3VuZHMoeE1pbiwgeE1heCwgeU1pbiwgeU1heCk7XG59XG5cbm1haW4oKTsiLCJleHBvcnQgaW50ZXJmYWNlIENhbnZhc1VwZGF0ZXIge1xuICAgIHVwZGF0ZShjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIFBsb3RCb3VuZHMge1xuICAgIHJlYWRvbmx5IHhNaW46IG51bWJlcjtcbiAgICByZWFkb25seSB4TWF4OiBudW1iZXI7XG4gICAgcmVhZG9ubHkgeU1pbjogbnVtYmVyO1xuICAgIHJlYWRvbmx5IHlNYXg6IG51bWJlcjtcblxuICAgIHJlYWRvbmx5IHhSYW5nZTogbnVtYmVyO1xuICAgIHJlYWRvbmx5IHlSYW5nZTogbnVtYmVyO1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKHhNaW46IG51bWJlciwgeE1heDogbnVtYmVyLCB5TWluOiBudW1iZXIsIHlNYXg6IG51bWJlcikge1xuICAgICAgICB0aGlzLnhNaW4gPSB4TWluO1xuICAgICAgICB0aGlzLnhNYXggPSB4TWF4O1xuICAgICAgICB0aGlzLnlNaW4gPSB5TWluO1xuICAgICAgICB0aGlzLnlNYXggPSB5TWF4O1xuXG4gICAgICAgIHRoaXMueFJhbmdlID0geE1heCAtIHhNaW47XG4gICAgICAgIHRoaXMueVJhbmdlID0geU1heCAtIHlNaW47XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Cb3VuZHMoeE1pbjogbnVtYmVyLCB4TWF4OiBudW1iZXIsIHlNaW46IG51bWJlciwgeU1heDogbnVtYmVyKTogUGxvdEJvdW5kcyB7XG4gICAgICAgIHJldHVybiBuZXcgUGxvdEJvdW5kcyh4TWluLCB4TWF4LCB5TWluLCB5TWF4KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVplcm8oeE1heDogbnVtYmVyLCB5TWF4OiBudW1iZXIpOiBQbG90Qm91bmRzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQbG90Qm91bmRzKDAsIHhNYXgsIDAsIHlNYXgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzeW1tZXRyaWMoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBQbG90Qm91bmRzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQbG90Qm91bmRzKC14LCB4LCAteSwgeSk7XG4gICAgfVxuXG4gICAgcHVibGljIHRyYW5zZm9ybSh0cmFuc2Zvcm1GdW5jdGlvbjogKGJvdW5kc0lucHV0OiBQbG90Qm91bmRzKSA9PiBQbG90Qm91bmRzKTogUGxvdEJvdW5kcyB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1GdW5jdGlvbih0aGlzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3UGxvdCB7XG4gICAgcHVibGljIHJlYWRvbmx5IGJvdW5kczogUGxvdEJvdW5kcztcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblxuICAgIHByaXZhdGUgaXNNb3VzZURvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIHVwZGF0ZVN1YnNjcmlwdGlvbnM6IENhbnZhc1VwZGF0ZXJbXSA9IFtdO1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKGJvdW5kczogUGxvdEJvdW5kcywgY2FudmFzV2lkdGg6IG51bWJlciwgY2FudmFzSGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XG5cbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpITtcblxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGV2ZW50KSB7IFxuICAgICAgICAgICAgc2VsZi5vbk1vdXNlRG93bihldmVudC5wYWdlWCwgZXZlbnQucGFnZVkpO1xuICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHNlbGYub25Nb3VzZVVwKGV2ZW50LnBhZ2VYLCBldmVudC5wYWdlWSk7XG4gICAgICAgIH0pO1xuICAgIFxuICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBzZWxmLm9uTW91c2VNb3ZlKGV2ZW50LnBhZ2VYLCBldmVudC5wYWdlWSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBzZWxmLm9uTW91c2VVcChldmVudC5wYWdlWCwgZXZlbnQucGFnZVkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3Vic2NyaWJlKHVwZGF0ZXI6IENhbnZhc1VwZGF0ZXIpIHtcbiAgICAgICAgdGhpcy51cGRhdGVTdWJzY3JpcHRpb25zLnB1c2godXBkYXRlcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk1vdXNlRG93bih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICB0aGlzLmNvbnRleHQubW92ZVRvKHgsIHkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Nb3VzZVVwKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUoeCwgeSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIG9uTW91c2VNb3ZlKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTW91c2VEb3duKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKHgsIHkpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdWJzY3JpcHRpb25zLmZvckVhY2goc3ViID0+IHtcbiAgICAgICAgICAgICAgICBzdWIudXBkYXRlKHRoaXMuY2FudmFzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2hhZGVyUGxvdCBpbXBsZW1lbnRzIENhbnZhc1VwZGF0ZXIge1xuICAgIHB1YmxpYyByZWFkb25seSBib3VuZHM6IFBsb3RCb3VuZHM7XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBwdWJsaWMgcmVhZG9ubHkgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dDtcblxuICAgIGNvbnN0cnVjdG9yKGJvdW5kczogUGxvdEJvdW5kcywgY2FudmFzV2lkdGg6IG51bWJlciwgY2FudmFzSGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XG5cbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmdsID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIsIHsgYW50aWFsaWFzOiBmYWxzZSwgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB0cnVlIH0pITtcbiAgICAgICAgdGhpcy5jb25maWd1cmVHbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29uZmlndXJlR2woKSB7XG4gICAgICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IHRoaXMuY3JlYXRlU2hhZGVyKHZlcnRleFNoYWRlclRleHQsIHRoaXMuZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gdGhpcy5jcmVhdGVTaGFkZXIoZnJhZ21lbnRTaGFkZXJUZXh0LCB0aGlzLmdsLkZSQUdNRU5UX1NIQURFUik7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHRoaXMuZ2wuY3JlYXRlUHJvZ3JhbSgpITtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gICAgICAgIHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcblxuICAgICAgICBjb25zdCBjb2xvckxvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X2NvbG9yXCIpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbkxvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBcImFfcG9zaXRpb25cIik7XG4gICAgICAgIGNvbnN0IHJlc29sdXRpb25Mb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9yZXNvbHV0aW9uXCIpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5nbC51bmlmb3JtMmYocmVzb2x1dGlvbkxvY2F0aW9uLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25Mb2NhdGlvbik7XG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NpdGlvbkxvY2F0aW9uLCAyLCB0aGlzLmdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTRmKGNvbG9yTG9jYXRpb24sIDAsIDAsIDAsIDEpO1xuXG4gICAgICAgIHRoaXMuZ2wuY2xlYXJDb2xvcigxLCAxLCAxLCAxKTtcbiAgICAgICAgdGhpcy5nbC5jbGVhcih0aGlzLmdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIGNyZWF0ZVNoYWRlcihzaGFkZXJUZXh0OiBzdHJpbmcsIHNoYWRlclR5cGU6IG51bWJlcikge1xuICAgICAgICBjb25zdCBzaGFkZXIgPSB0aGlzLmdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKSE7XG4gICAgICAgIHRoaXMuZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyVGV4dCk7XG4gICAgICAgIHRoaXMuZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICAgICAgICByZXR1cm4gc2hhZGVyO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICBsZXQgdGV4dHVyZSA9IHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpO1xuXG4gICAgICAgIHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy5nbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgICAgdGhpcy5nbC50ZXhJbWFnZTJEKHRoaXMuZ2wuVEVYVFVSRV8yRCwgMCwgdGhpcy5nbC5SR0JBLCB0aGlzLmdsLlJHQkEsIHRoaXMuZ2wuVU5TSUdORURfQllURSwgY2FudmFzKTtcblxuICAgICAgICB2YXIgZmIgPSB0aGlzLmdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgICAgIHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKHRoaXMuZ2wuRlJBTUVCVUZGRVIsIGZiKTtcbiAgICAgXG4gICAgICAgIHRoaXMuZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQodGhpcy5nbC5GUkFNRUJVRkZFUiwgdGhpcy5nbC5DT0xPUl9BVFRBQ0hNRU5UMCwgdGhpcy5nbC5URVhUVVJFXzJELCB0ZXh0dXJlLCAwKTtcbiAgICB9XG59XG5cbmNvbnN0IHZlcnRleFNoYWRlclRleHQgPSBgXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1xudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcblxudm9pZCBtYWluKCkge1xuICAgIGdsX1Bvc2l0aW9uID0gdmVjNChhX3Bvc2l0aW9uLCAwLCAxKTtcbn1gO1xuXG5jb25zdCBmcmFnbWVudFNoYWRlclRleHQgPSBgXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbnVuaWZvcm0gdmVjNCB1X2NvbG9yO1xuXG52b2lkIG1haW4oKSB7XG4gIGdsX0ZyYWdDb2xvciA9IHVfY29sb3I7XG59YDsiLCJleHBvcnQgdHlwZSBDb21wbGV4RnVuY3Rpb24gPSAoYzogQ29tcGxleCkgPT4gQ29tcGxleDtcblxuZXhwb3J0IGNsYXNzIENvbXBsZXgge1xuICAgIHJlYWRvbmx5IHJlOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgaW06IG51bWJlcjtcbiAgICByZWFkb25seSByOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdGhldGE6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHJlYWw6IG51bWJlciwgaW1hZ2luYXJ5OiBudW1iZXIpIHsgXG4gICAgICAgIHRoaXMucmUgPSByZWFsO1xuICAgICAgICB0aGlzLmltID0gaW1hZ2luYXJ5O1xuICAgICAgICB0aGlzLnIgPSBNYXRoLnNxcnQocmVhbCAqKiAyICsgaW1hZ2luYXJ5ICoqIDIpO1xuICAgICAgICB0aGlzLnRoZXRhID0gTWF0aC5hdGFuMihpbWFnaW5hcnksIHJlYWwpO1xuICAgIH1cblxuICAgIHN0YXRpYyB6ZXJvKCkgOiBDb21wbGV4IHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXguZnJvbVJlY3Rhbmd1bGFyKDAsIDApO1xuICAgIH1cblxuICAgIHN0YXRpYyB1bml0KCkgOiBDb21wbGV4IHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXguZnJvbVJlY3Rhbmd1bGFyKDEsIDApO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tUmVjdGFuZ3VsYXIocmVhbDogbnVtYmVyLCBpbWFnaW5hcnk6IG51bWJlcikgOiBDb21wbGV4IHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHJlYWwsIGltYWdpbmFyeSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Qb2xhcihtYWduaXR1ZGU6IG51bWJlciwgYW5nbGU6IG51bWJlcikgOiBDb21wbGV4IHtcbiAgICAgICAgY29uc3QgcmVhbCA9IG1hZ25pdHVkZSAqIE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgY29uc3QgaW1hZ2luYXJ5ID0gbWFnbml0dWRlICogTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgocmVhbCwgaW1hZ2luYXJ5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUNvbXBsZXgoYzogQ29tcGxleCkgOiBDb21wbGV4IHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXguZnJvbVJlY3Rhbmd1bGFyKGMucmUsIGMuaW0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBhZGQoYzE6IENvbXBsZXgsIGMyOiBDb21wbGV4KSA6IENvbXBsZXgge1xuICAgICAgICByZXR1cm4gQ29tcGxleC5mcm9tUmVjdGFuZ3VsYXIoYzEucmUgKyBjMi5yZSwgYzEuaW0gKyBjMi5pbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHN1YnRyYWN0KGMxOiBDb21wbGV4LCBjMjogQ29tcGxleCkgOiBDb21wbGV4IHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXguZnJvbVJlY3Rhbmd1bGFyKGMxLnJlIC0gYzIucmUsIGMxLmltIC0gYzIuaW0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBtdWx0aXBseShjMTogQ29tcGxleCwgYzI6IENvbXBsZXgpIDogQ29tcGxleCB7XG4gICAgICAgIHJldHVybiBDb21wbGV4LmZyb21Qb2xhcihjMS5yICogYzIuciwgYzEudGhldGEgLSBjMi50aGV0YSkgICAgXG4gICAgfVxuXG4gICAgc3RhdGljIGRpdmlkZShjMTogQ29tcGxleCwgYzI6IENvbXBsZXgpIDogQ29tcGxleCB7XG4gICAgICAgIHJldHVybiBDb21wbGV4LmZyb21Qb2xhcihjMS5yIC8gYzIuciwgYzEudGhldGEgLSBjMi50aGV0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGV4cG9uZW50KGM6IENvbXBsZXgsIGV4cDogbnVtYmVyKSA6IENvbXBsZXgge1xuICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gYy5yICoqIGV4cDtcbiAgICAgICAgY29uc3QgcmUgPSBtdWx0aXBsaWVyICogTWF0aC5jb3MoZXhwICogYy50aGV0YSk7XG4gICAgICAgIGNvbnN0IGltID0gbXVsdGlwbGllciAqIE1hdGguc2luKGV4cCAqIGMudGhldGEpO1xuICAgICAgICByZXR1cm4gQ29tcGxleC5mcm9tUmVjdGFuZ3VsYXIocmUsIGltKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcm9vdChjOiBDb21wbGV4LCByb290OiBudW1iZXIpIDogQ29tcGxleCB7XG4gICAgICAgIHJldHVybiBDb21wbGV4LmV4cG9uZW50KGMsIDEvcm9vdCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNsb25lKCkgOiBDb21wbGV4IHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXguZnJvbUNvbXBsZXgodGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZChjOiBDb21wbGV4KSA6IENvbXBsZXgge1xuICAgICAgICByZXR1cm4gQ29tcGxleC5hZGQodGhpcywgYyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN1YnRyYWN0KGM6IENvbXBsZXgpIDogQ29tcGxleCB7XG4gICAgICAgIHJldHVybiBDb21wbGV4LnN1YnRyYWN0KHRoaXMsIGMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtdWx0aXBseShjOiBDb21wbGV4KSA6IENvbXBsZXgge1xuICAgICAgICByZXR1cm4gQ29tcGxleC5tdWx0aXBseSh0aGlzLCBjKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGl2aWRlKGM6IENvbXBsZXgpIDogQ29tcGxleCB7XG4gICAgICAgIHJldHVybiBDb21wbGV4LmRpdmlkZSh0aGlzLCBjKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZXhwb25lbnQoZXhwOiBudW1iZXIpIDogQ29tcGxleCB7XG4gICAgICAgIHJldHVybiBDb21wbGV4LmV4cG9uZW50KHRoaXMsIGV4cCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJvb3Qocm9vdDogbnVtYmVyKSA6IENvbXBsZXgge1xuICAgICAgICByZXR1cm4gQ29tcGxleC5yb290KHRoaXMsIHJvb3QpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5yZX0gKyAke3RoaXMuaW19aWA7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=